/**
 * boiler.js v0.9.0
 * https://github.com/Xaxis/boiler.js
 * http://www.boilerjs.com
 * (c) 2012-2013 Wil Neeley, Trestle Media, LLC.
 * boiler.js may be freely distributed under the MIT license.
 **/
(function(c){var b=this,a=b._,d=function(e){this._bound=arguments;if(e instanceof d){return e}if(!(this instanceof d)){return new d(d.toArray(arguments))}};d._version="0.9.0";c._=d;d.at=function(e,f){f=d.isArray(f)?d.keys(f):f;return d.filter(e,function(g,h){if(h==f||d.contains(f,h.toString())){return true}})};d.difference=function(e){var f=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return d.filter(d.uniq(e),function(g){return !d.inArray(f,g)})};d.first=d.take=function(e,f){return f?Array.prototype.slice.call(e,0,f):e[0]};d.indexOf=d.firstIndexOf=function(e,h,j,f){if(e==null){return -1}var f=f||d.isBool(j)?j:false,j=d.isNumber(j)?j:0,g=0;if(e.indexOf&&!f){return e.indexOf(h,j)}for(;g<e.length;g++){if(f&&d.isEqual(e[g],h)&&g>=j){return g}else{if(e[g]===h&&g>=j){return g}}}return -1};d.initial=function(f,g){var e=g?f.length-g:f.length-1;return d.filter(f,function(h,j){if(j<e){return true}})};d.intersection=function(e){var f=Array.prototype.slice.call(arguments,1);return d.filter(d.uniq(e),function(g){return d.all(f,function(h){return d.indexOf(h,g,true)!=-1})})};d.last=function(e,f){return f?Array.prototype.slice.call(e,e.length-f,e.length):e[e.length-1]};d.lastIndexOf=function(e,g,h,f){if(e==null){return -1}var f=f||d.isBool(h)?h:false,h=d.isNumber(h)?h:e.length;if(e.lastIndexOf&&!f){return e.lastIndexOf(g,h)}while(--h){if(f&&d.isEqual(e[h],g)){return h}else{if(e[h]===g){return h}}}return -1};d.object=d.toObject=function(){var f=[],e={},j=true,h=0;d.each(arguments,function(i){if(d.isArray(i)){f.push(i)}else{j=false}});if(j&&f.length===2){var k=f[1];for(;h<f[0].length;h++){e[f[0][h]]=k[h]}}else{if(j&&f.length>1){for(;h<f.length;h++){var g=f[h][0];e[g]=f[h][1]}}else{if(j&&f.length==1){for(;h<f[0].length;h+=2){e[f[0][h]]=f[0][h+1]}}else{for(;h<arguments.length;h+=2){e[arguments[h]]=arguments[h+1]}}}}return e};d.remove=function(e,h){if(e instanceof Array){var g,f=e.length;while(f--){if((g=d.indexOf(e,h,true))!==-1){e.splice(g,1)}}}return e};d.rest=d.tail=function(f,g){var e=g||1;return d.filter(f,function(h,j){if(j>=e){return true}})};d.union=function(){return d.uniq(Array.prototype.concat.apply(Array.prototype,arguments))};d.uniq=d.unique=function(e,h,g){var f=[];return d.filter(d.isFunction(h)?d.map(e,h,g):e,function(i){if(d.indexOf(f,i,true)===-1){f[f.length]=i;return true}})};d.without=d.exclude=function(e,f){return d.filter(e,function(g){if(!d.contains(f,g)){return true}})};d.zip=function(e){var h=0,g=[],f=Array.prototype.slice.call(arguments,0);for(;h<e.length;h++){g[h]=d.pluck(f,""+h)}return g};d.add=function(f,g,i,e){var j=true,h=d.isArray(f)?true:false;return d.deep({obj:f,fn:function(m,l,k){if(j){if(!(g in f)){f[g]=i}j=false}if(((d.isArray(k)&&h)||(d.isPlainObject(k)&&!h))&&e){if(!(g in k)){k[g]=i}}},depth:e?"*":1,retType:true})};d.all=d.every=function(g,i,h,e){var f=true,e=d.isBool(h)?h:e;d.deep(g,function(l,j,k){if(e){if(!d.isArray(k)&&!d.isPlainObject(k)){if(!i.call(!d.isBool(h)?(h||this):this,k,j)){f=false}}}else{if(!i.call(!d.isBool(h)?(h||this):this,k,j)){f=false}}},e?"*":1);return f};d.any=d.some=function(g,i,h,e){var f=false,e=d.isBool(h)?h:e;d.deep(g,function(l,j,k){if(i.call(!d.isBool(h)?(h||this):this,k,j)){if(!f){f=true}f=true}},e?"*":1);return f};d.average=function(f,h,e){var i=0,e=e||d.isBool(h)?h:false,g=d.isFunction(h);d.deep(f,function(m,j,l,k){if(d.isNumber(l)){i+=g?h.call(this,l,j,k):l}},e?"*":1);return i/d.len(f,e)};d.clear=function(e){if(d.isArray(e)){e.length=0}else{d.each(e,function(g,f){delete e[f]})}return e};d.clone=function(g,k,e){var e=e||d.isBool(k)?k:false,j=d.isFunction(k)?k:d.identity,f=d.isArray(g)?[]:{},h;for(h in g){if(typeof g[h]=="object"&&e){f[h]=d.clone(g[h],k,e)}else{f[h]=j.call(g,g[h])}}return f};d.compact=function(e,f){return d.filter(e,function(g){if(f&&!d.isFalsy(g)&&!d.isEmpty(g)){return true}else{if(!f&&!d.isFalsy(g)){return true}}})};d.contains=d.inArray=function(f,g,e){return d.isEqual(d.find(f,function(h){return d.isEqual(h,g)?true:false},e),g)};d.count=function(g,i,h,e){var f=0,e=d.isBool(h)?h:e;d.deep(g,function(l,j,k){if(e){if(!d.isArray(k)&&!d.isPlainObject(k)){if(i.call(!d.isBool(h)?(h||this):this,k,j)){f++}}}else{if(i.call(!d.isBool(h)?(h||this):this,k,j)){f++}}},e?"*":1);return f};d.countBy=function(e,g,f){return d.groupBy(e,g,f||this,true)};d.deep=function(g,l,h){var i=g.obj||g,l=g.fn||l,h=g.depth||(h||"*"),k=g.args||[],n=g.noArrays||false,f=g.noObjects||false,m=g.retType||false,j=g.ret||[];for(var e in i){k.unshift(h,e,i[e],i);if(l.apply(this,k)){j.push(i[e])}if((d.isPlainObject(i[e])&&!f)||(d.isArray(i[e])&&!n)){h=h=="*"?"*":h-1;k.splice(0,4);if(h>0||h==="*"){d.deep({obj:i[e],fn:l,depth:h,args:k,noArrays:n,noObjects:f,ret:j})}}k.splice(0,4)}return m?i:j};d.each=d.forEach=function(e,j,h){if(e==null){return}if(e.forEach){e.forEach(j,h)}else{if(e instanceof Array){for(var g=0;g<e.length;g++){if(j.call(h||e[g],e[g],g,e)===false){return}}}else{for(var f in e){if(d.has(e,f)){if(j.call(h||e[f],e[f],f,e)===false){return}}}}}};d.empty=function(f,e){var g=null;d.deep(f,function(k,h,j,i){if(e){if(g==null){g=i}if(d.isPlainObject(j)||d.isArray(j)){g=j}else{g[h]=undefined}}else{f[h]=undefined}},e?"*":1);return f};d.filter=function(f,k,j){var e=[];if(f==null){return e}if(f.filter){return f.filter(k,j)}else{if(f instanceof Array){for(var h=0;h<f.length;h++){if(k.call(j||f[h],f[h],h,f)){e[e.length]=f[h]}}}else{for(var g in f){if(d.has(f,g)){if(k.call(j||f[g],f[g],g,f)){e[e.length]=f[g]}}}}}return e};d.find=d.findValue=function(f,i,h,e,j){e=d.isBool(h)?h:e;var g=d.deep({obj:f,fn:function(m,l,k){if(i.call(h?h:this,j==="key"?l:k)){return true}},depth:e?"*":1});return g.length>=1?g[0]:undefined};d.findKey=d.findIndex=function(f,h,g,e){e=e||d.isBool(g)?g:e;return d.find(f,h,g||this,e,"key")};d.flatten=function(f,h){var e=[],h=h||"*",g;d.deep(f,function(j,i,k){g=!d.isArray(k)&&!d.isPlainObject(k);if(j=="*"){if(g){e.push(k)}}else{if(j>1){if(g){e.push(k)}}else{e.push(k)}}},h);return e};d.getByType=function(f,g,e){e=e||d.isBool(g)?g:false;g=!d.isString(g)?"*":d.isString(g)?g:undefined;return d.deep({obj:f,fn:function(j,h,i){if(d.type(i)==g||g=="*"){return true}},depth:e?"*":1})};d.groupBy=function(e,i,g,h){h=h||d.isBool(g)?g:false;var f={};d.each(e,function(l,j){var k=d.isString(i)?l[i]:i.call(g||this,l,j,e);if(d.has(f,k)){f[k].push(l)}else{f[k]=[l]}});if(h){d.each(f,function(k,j){f[j]=k.length})}return f};d.groupsOf=function(e,k,j){var h=[],g=1,f;d.each(e,function(i,l){if((f in h)&&g<k){h[f].push(l);g+=1}else{f=d.len(h);h[f]=[l];g=1}});if(j){d.each(h,function(l,i){if(l.length<k){for(g=l.length;g<k;g++){h[i].push(j)}}})}return h};d.has=d.keyExists=function(f,g,e){return !e&&Object.hasOwnProperty?hasOwnProperty.call(f,g):d.findKey(f,function(h){return !!(g==h)},e)?true:false};d.invert=function(f){var e={},g=-1,h=Object.keys(f);while(++g<h.length){e[f[h[g]]]=h[g]}return e};d.invoke=function(g,h,f){var f=f||[],e;return d.map(g,function(i){f.unshift(i);e=(d.isFunction(h)?h:i[h]).apply(i,f);f.shift();return e})};d.isEmpty=function(e){return((d.isPlainObject(e)&&d.len(e)===0)||(d.isArray(e)&&e.length===0))};d.isUnique=function(e,f){if(f in e){for(var g in e){if(d.isEqual(e[f],e[g])&&g!==f.toString()){return false}}}return true};d.keys=function(f,e){if(!e&&Object.keys){return Object.keys(f)}else{var g=[];for(var h in f){g.push(h)}return e?d.keys(d.paths(f)):g}};d.least=function(i,j,g){var f,e,h,k;if(d.isString(j)){e=d.countBy(i,function(l){return l[j]});f=d.countBy(i,function(l){return l[j]},this,true)}else{e=d.countBy(i,j||function(l){return l});f=d.countBy(i,j||function(l){return l},this,true)}k=g?d.max(e):d.min(e);d.each(e,function(m,l){if(k==m){h=l;return false}});return h};d.len=function(g,e,h){var h=h?(h+=d.keys(g).length):d.keys(g).length;if(e){for(var i in g){if(d.isPlainObject(g[i])||d.isArray(g[i])){var f=d.len(g[i],e,h);if(d.type(g[i])==="array"){return f-1}else{if(d.type(g[i])==="object"){return f}}}}}return h};d.map=d.collect=function(g,i,h,e){e=e||d.isBool(h)?h:false;var f=[];d.each(e?d.flatten(g):g,function(l,j,k){f.push(i.call(h||this,l,j,k))});return f};d.max=function(g,i,e){var f=[],e=e||d.isBool(i)?i:false,h=d.isFunction(i);d.deep(g,function(m,j,l,k){if(d.isNumber(l)){f.push(h?i.call(this,l,j,k):l)}},e?"*":1);return Math.max.apply(this,f)};d.min=function(g,i,f){var e=[],f=f||d.isBool(i)?i:false,h=d.isFunction(i);d.deep(g,function(m,j,l,k){if(d.isNumber(l)){e.push(h?i.call(this,l,j,k):l)}},f?"*":1);return Math.min.apply(this,e)};d.most=function(f,e){return d.least(f,e,true)};d.none=function(g,i,h,e){e=e||d.isBool(h)?h:false;var f=true;d.deep(g,function(l,k,j){if(i.call(h?h:this,j,k)){f=false}},e?"*":1);return f};d.omit=d.blacklist=function(e,g){var f=d.isArray(g)?g:[g];return d.filter(e,function(i,h){if(!(h in f)&&!(d.inArray(f,h))){return i}})};d.only=d.whitelist=function(e,f){var f=d.isString(f)?f.split(" "):f;return d.filter(e,function(h,g){if(d.inArray(f,g)){return true}})};d.paths=function(h,k,g,i,f,e){var l,k=k||false,i=i||{},f=f||"",e=e||"",j=g?Object.getOwnPropertyNames(h):d.keys(h);for(l=0;l<j.length;l++){if(k){i[j[l]]=(e+"."+f+"."+j[l]).replace(/^[.]+/g,"")}else{i[(e+"."+f+"."+j[l]).replace(/^[.]+/g,"")]=h[j[l]]}if(d.isPlainObject(h[j[l]])||d.isArray(h[j[l]])){d.paths(h[j[l]],k,g,i,j[l],e+"."+f)}}return i};d.reduce=d.foldl=function(g,k,n,l){var e=g,h=0,f,m,j;if(l){if(d.isPlainObject(e)){m=d.keys(e).reverse();j=d.values(e).reverse();e=d.object(m,j)}else{if(d.isArray(e)){e=e.reverse()}}}f=d.find(e,function(i){return i});d.each(e,function(o,i){if(h!==0){f=k.call(n||this,f,o,i)}h++});return d.isArray(f)?f[0]:f};d.reduceRight=d.foldr=function(e,g,f){return d.reduce(d.values(e),g,f||this,true)};d.reject=function(e,g,f){return d.filter(e,function(h,j,k){return !g.call(f||this,h,j,k)},f||this)};d.replace=function(f,h,g,e){var e=d.isBool(g)?g:e,i=f,g=!d.isBool(g)?g:this;return d.deep({obj:f,fn:function(l,k,j){if(e){if(d.isPlainObject(j)||d.isArray(j)){i=j}else{i[k]=h.call(g,j)}}else{i[k]=h.call(g,j)}},depth:e?"*":1,retType:true})};d.sample=function(g,j,e){var f=[],h;for(h=j||1;h>0;h--){f.push(d.shuffle(e?d.flatten(g):g)[0])}return f};d.set=function(f,g,i,e){var j=true,h=d.isArray(f)?true:false;d.deep({obj:f,fn:function(m,l,k){if(j){f[g]=i;j=false}if(((d.isArray(k)&&h)||(d.isPlainObject(k)&&!h))&&e){k[g]=i}},depth:e?"*":1});return f};d.setUndef=function(f,g,e){return d.deep({obj:f,fn:function(k,i,h,j){if(d.isUndefined(h)){j[i]=g}},depth:e?"*":1,retType:true})};d.shuffle=function(f){var e,g,j,h;e=d.isPlainObject(f)?d.toArray(f):f;for(g=e.length-1;g>0;g--){j=Math.floor(Math.random()*(g+1));h=e[g];e[g]=e[j];e[j]=h}return e};d.size=function(g,e,h){h=h?h:0;d.each(d.values(g),function(j){if(!d.isFalsy(j)){h+=1}});if(e){for(var i in g){if(d.isPlainObject(g[i])||d.isArray(g[i])){var f=d.size(g[i],e,h);if(d.type(g[i])==="array"){return f-1}else{if(d.type(g[i])==="object"){return f}}}}}return h};d.sortBy=function(e,h,g){var f=d.isFunction(h)?h:function(j,k,m){var l=typeof m[k];if(l=="array"||l=="object"){return d.resolve(m[k],h)}else{return j[h]}};return d.pluck(d.map(e,function(k,i,j){return{value:k,index:i,criteria:f.call(g||this,k,i,j)}}).sort(function(k,j){var i=k.criteria;var l=j.criteria;if(i!==l){if(i>l||i===void 0){return 1}if(i<l||l===void 0){return -1}}return k.index<j.index?-1:1}),"value")};d.sum=function(g,i,e){var e=e||d.isBool(i)?i:false,h=d.isFunction(i)?i:d.identity,f=0;d.deep(g,function(l,j,k){if(d.isNumber(k)){f+=h.call(g,k)}},e?"*":1);return f};d.tap=function(e,g,f){return g.call(f||this,e)};d.where=function(e,f,g){return d[g?"find":"filter"](e,function(i){for(var h in f){if(f[h]!==i[h]){return false}}return true})};d.whereFirst=function(e,f){return d.where(e,f,true)};d.values=function(f,e){var g=[];for(var h in f){g.push(f[h])}return e?d.values(d.paths(f)):g};d.after=function(e,f){e.n=e.after=f;return function(){if(e.n>1){e.n--}else{e.apply(this,arguments);e.n=e.after}}};d.bind=function(g,f,e){e=e||d.isArray(f)?f:[];return function(){for(var h=0;h<arguments.length;h++){e.push(arguments[h])}return g.apply(f,e)}};d.bindAll=function(f,e){if(arguments.length===1&&f){d.each(f,function(g,h){if(d.isFunction(f[h])){f[h]=d.bind(f[h],f)}})}else{if(arguments.length===2){d.each(args.methods,function(g,h){f[h]=d.bind(f[h],f)})}}return f};d.compose=function(){var e=d.filter(d.toArray(arguments),function(f){if(d.isFunction(f)){return true}});return function(){var f=arguments;for(var g=e.length-1;g>=0;g--){f=[e[g].apply(this,f)]}return f[0]}};d.debounce=function(f,i,g){var e,h;return function(){var l=this,m=arguments;var k=function(){h=null;if(!g){e=f.apply(l,m)}};var j=g&&!h;clearTimeout(h);h=setTimeout(k,i);if(j){e=f.apply(l,m)}return e}};d.defer=function(e){return d.delay.call(this,e,0)};d.delay=function(f,e){return function(){var g=arguments;setTimeout(function(){return f.apply(null,g)},e)}};d.fill=d.partial=function(g){var e=[];for(var f=1;f<arguments.length;f++){e.push(arguments[f])}return function(){for(var h=0;h<arguments.length;h++){e.push(arguments[h])}return g.apply(this,e)}};d.memoize=function(f,g){var e={};g=g||(g=d.identity);return function(){var h=g.apply(this,arguments);return(h in e)?e[h]:(e[h]=f.apply(this,arguments))}};d.once=function(e){e.n=e.once=1;return function(){if(e.n){e.n--;return e.apply(this,arguments)}}};d.throttle=function(j,e){var m,l,i,k,g,h,f;f=function(){l=new Date;i=null;g=j.apply(m,k)};return function(){var n=new Date();var o=e-(n-l);m=this;k=arguments;if(o<=0){clearTimeout(i);i=null;l=n;h=j.apply(m,k)}else{if(!i){i=setTimeout(f,o)}}return h}};d.times=function(e,f){e.n=f;return function(){for(var g=0;g<e.n;g++){e.apply(this,arguments)}}};d.wrap=function(e,f){return function(){var g=[e];g.push.apply(g,arguments);return f.apply(this,g)}};d.range=function(k,h,j){var g=0,f=[];j=j||1;h=h||k;k=(arguments.length==1)?0:k;var e=Math.max(Math.ceil((h-k)/j),0);while(g<e){f[g++]=k;k+=j}return f};d.uniqueId=function(g){var g=g||"",e=d.uniqueId;if(!("uuids" in e)){e.uuids=[]}var f=g+Math.floor((1+Math.random())*65536).toString(10).substring(1);if(!d.inArray(e.uuids,f)){e.uuids.push(f);return f}else{d.uniqueId()}};d.array=d.toArray=function(){var e=[];if(arguments.length>1){for(var f=0;f<arguments.length;f++){d.each(arguments[f],function(g){e.push(g)})}}else{d.each(arguments[0],function(g){e.push(g)})}return e};d.defaults=function(f,e){d.each(e,function(h,g){if(!(g in f)){f[g]=h}else{if(f[g]===null||f[g]===undefined){f[g]=h}}});return f};d.extend=d.merge=function(){var h=[],l,k,j,m,g,f,e;l=d.filter(d.toArray(arguments),function(i){if(d.isBool(i)){e=i}if(d.isPlainObject(i)){return i}});k=l.shift();if(e){d.each(l,function(i){h.push(d.keys(i));h=d.flatten(h)});d.deep(k,function(o,i,n){if(d.indexOf(h,i)===-1){for(f=0;f<l.length;f++){for(g in l[f]){if(d.isPlainObject(n)){m=l[f][g];n[g]=m}}}}},"*")}for(f=0;f<l.length;f++){if((j=l[f])!==null){for(g in j){m=j[g];if(k===m){continue}k[g]=m}}}return k};d.get=function(f,e){return d.deep(f,function(h,g){if(e==g){return true}})[0]};d.howDeep=function(f,e){var i=d.paths(f,true);if(e&&(e in i)){return i[e].split(".").length}else{var h=d.getByType(f,"*",true);for(var g in h){if(d.isEqual(f,h[g])){return d.howDeep(f,d.keys(h[g])[0])}}}};d.isArguments=function(e){return{}.toString.call(e)==="[object Arguments]"};d.isArray=function(e){return{}.toString.call(e)==="[object Array]"};d.isBool=function(e){return{}.toString.call(e)==="[object Boolean]"};d.isDate=function(e){return{}.toString.call(e)==="[object Date]"||e instanceof Date};d.isElement=function(e){return e?e.nodeType===1:false};d.isEqual=function(h,f){var e=d.type(h),g;if(e!=d.type(f)){return false}if(typeof h!="object"&&e!="function"&&e!="nan"||e=="null"){return h===f}if(e=="function"){return h.toString()==f.toString()&&d.isEqual(d.keys(h),d.keys(f))&&d.isEqual(d.values(h),d.values(f))}if(e=="nan"){return h!==f}if(typeof h=="object"){if(d.len(h)==0){return e==d.type(f)&&d.len(f)==0}else{for(g in h){return d.isEqual(h[g],f[g])}}}};d.isFalsy=function(e){return(d.isUndefined(e)||d.isNull(e)||d.isNaN(e)||e===""||e===0||(d.isBool(e)&&Boolean(e)===false))};d.isInfinite=function(e){return e===Infinity||e===-Infinity};d.isFunction=function(e){return{}.toString.call(e)==="[object Function]"};d.isNaN=function(e){return typeof e==="number"&&e!==e};d.isNull=function(e){return{}.toString.call(e)==="[object Null]"};d.isNumber=function(e){return{}.toString.call(e)==="[object Number]"};d.isObject=function(e){return typeof e==="object"};d.isPlainObject=function(e){return typeof e==="object"&&{}.toString.call(e)==="[object Object]"};d.isRegExp=function(e){return{}.toString.call(e)==="[object RegExp]"||e instanceof RegExp};d.isString=function(e){return typeof e==="string"&&{}.toString.call(e)==="[object String]"};d.isUndefined=function(e){return typeof e==="undefined"};d.module=d.build=function(e,g){var f=e?e.split("."):[],e=f?f.shift():(e||""),g=g||{};g[e]={};if(f.length){d.module(f.join("."),g[e])}return g};d.nest=function(f,e){e=e||"";d.each(f,function(h,g){f[g]={};f[g][e+g]=h});return f};d.pairs=function(f){var e=[];d.each(f,function(h,g){e.push([g,h])});return e};d.parent=function(h,e){var g=e?d.get(h,e):h,j=d.getByType(h,"object",true);for(var i in j){if(d.isPlainObject(j[i])){for(var f in j[i]){if(d.isEqual(j[i][f],g)){return j[i]}}}}return h};d.pluck=d.fetch=function(f,e){return d.map(f,function(g){return d.resolve(g,e)})};d.resolve=function(h,g,f,e){if((g in h)&&!f){return h[g]}return d.paths(h,f,e)[g]};d.toQueryString=function(g,f){var e="";d.deep({obj:g,fn:function(j,h,i){h=h.toString();if(!d.isPlainObject(i)){if(d.isArray(i)){d.deep(i,function(l,m,k){e+=(f?f+h+"[]":h+"[]")+"="+k+"&"},"*")}else{e+=(f?f+h:h)+"="+i+"&"}}},depth:"*",noArrays:true});e=encodeURIComponent(e.replace(/&$/g,""));return e};d.type=function(g){var f="Date RegExp Element Arguments PlainObject Array Function String Bool NaN Infinite Number Null Undefined Object".split(" "),e;for(e=0;e<f.length;e++){if(d["is"+f[e]].call(this,g)){return f[e].toLowerCase().replace(/plainobject/g,"object").replace(/infinite/g,"infinity")}}return false};d.fromQueryString=function(h,e){var f={},g;d.each(decodeURIComponent(h).split("&"),function(i){g=i.split("=");if(g[0].match(/\[\]/g)&&e){g[0]=g[0].replace(/\[\]/g,"");if(g[0] in f){f[g[0]].push(g[1])}else{f[g[0]]=[g[1]]}}else{f[g[0]]=g[1]}});return f};d.htmlEncode=function(i){var h={"\u0026":["amp"],"\u0022":["quot"],"\u0027":["apos"],"\u003C":["lt"],"\u003E":["gt"],"\u00A0":["nbsp"],"/":["#x2F"]};for(var g in h){var f=new RegExp(g,"g");i=i.replace(f,"&"+h[g][0]+";")}return i};d.htmlDecode=function(i){var h={"&quot;":['"'],"&amp;":["&"],"&apos;":["'"],"&lt;":["<"],"&gt;":[">"],"&nbsp;":[" "],"&#x2F;":["/"]};for(var g in h){var f=new RegExp(g,"g");i=i.replace(f,h[g][0])}return i};d.chain=function(){return d.apply(this,d.toArray(arguments)).chain()};d.end=d.result=function(e){return this._chain?d(e).chain():e};d.identity=function(e){return e};d.noConflict=function(){b._=a;return d};d.value=function(e){return d.isFunction(e)?e():e};d.each(d.filter(d.keys(d),function(e){if(!d.inArray(["_version"],e)){return true}}),function(e){var f=d[e];d.prototype[e]=function(){return d.end.call(this,f.apply(d,this._bound[0].concat(d.toArray(arguments))))}});d.extend(d.prototype,{chain:function(){this._chain=true;return this},end:function(){this._chain=false;return this._bound[0][0]}})})(typeof exports!=="undefined"?exports:window);